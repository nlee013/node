/*Feature
	id: {type: "String"},
	'type': {type: String, default: "Feature"},
	geometry: Geometry,
	properties: {type: "Object"}
*/

var Schema = {};

Schema.createSchema = function(mongoose){
	
	var CoffeeShopSchema = mongoose.Schema({
		
		name : {type:String, index:"hashed"},//몽고디비는 name에다가 index를 만든다
		addr:{type:String},
		tel:{type:String},
		geometry:{
			
			type:{type:String, "default" : "point"},//위치 정보 유형 정리
			coordinates:[{type:"Number"}]//위도, 경도 좌표 정보 저장(2개값을 저장하기에 배열로 만듦)
			
		},
		created:{type:Date, "default":Date.now}
	
	});
	
	//geometry에 indexing(공간 인덱싱)을 만들면 속도가 빨라진다.
	CoffeeShopSchema.index({geometry:"2dsphere"});
}